---
title: "my first notebook"
author: "John Little"
date: "April 1, 2020"
output:  html_notebook
abstract: This is an [R Notebook](https://bookdown.org/yihui/rmarkdown/notebook.html)
  techniques with code **inside** *code chunks*.  Outside the code chunks you can
  write your prose to explain your goals, workflow, provenance, and code.  You can
  illustrating [literate programming](https://en.wikipedia.org/wiki/Literate_programming)
  enhance your prose with [R Markdown](https://rmarkdown.rstudio.com/lesson-1.html)).
---

<p>

You can execute code within the R Notebook. Results appear beneath the code.  R Markdown documents can be rendered into many formats including MS Word, Power Point, slides, web pages, web sites, and more. 

Try executing the **code chunk**, below, by clicking the green-arrow *Run* button (within the chunk), or by placing your cursor inside the chunk and pressing *Ctrl+Shift+Enter.*


```{r}
plot(cars)
```

## Code Chunks

Add a new code chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

*Ctrl+Shift+M*:  Generates a pipe -- ` %>% ` -- between functions (When you use the `tidyerse` package.)

###### https://rmarkdown.rstudio.com/r_notebooks.html

## Load Library Packages 

We like the [tidyverse](https://tidyverse.org).  The tidyverse is a collection of R packages that enable a modern approach to data science and data manipulation.  The packages share a common philosophy and employ a consistent approach to documentation.  Package [documentation can be explored on the web](https://www.tidyverse.org/packages/).

The Tidyverse is a mega package that loads eight packages at once.


```{r}
library(tidyverse)
```

Packages are a means to extend R's functionality into your domain of interest.  The tidyverse is a general interest set of packages concerned with data science and data manipulation.  It just makes R programming easier.

Packages ....

1. Only need to be installed once  `install.packages("tidyverse)`
1. Need to be loaded during every R session   `library(tidyverse)`

Before we go any further, let's export some CSV data so we can practice importing that data later.

```{r}
write_csv(cars, "data/cars2.csv")
```


## R Markdown

Markdown is a minimal "mark up" language that enables document structure affected when you **render** (or *preview*, or *knit*) the R Markdown Notebook script (.Rmd) into your chosen report format (HTML notebook, MS Word file, PDF Document, e-book, web site, dashboard, slides, PPT slides, etc.)

Below is an example of some R Markdown in an R Notebook.  Preview this document to see how it renders.

My Your_Name_Here *favorite* **search** *engines* are 

1. [Google](http://google.com)
3. [Yahoo](http://yahoo.com)
2. [Bing](http://bing.com)

You can get more information about getting started with [R Markdown](https://rmarkdown.rstudio.com/)



## Load Data

The following links provide documentation on loading data into R

- https://support.rstudio.com/hc/en-us/articles/218611977-Importing-Data-with-RStudio
- https://www.rstudio.com/resources/webinars/importing-data-into-r/

### Hurricane data 

Let's load some data.  Below we import hurricane data from the web (from github) and assign that data to the `canes` object.  Next we import a CSV file from the data directory and assign that to the `cars2` 

```{r}
canes <- read_csv("https://is.gd/bigstorms")
cars2 <- read_csv("data/cars2.csv")
```

Now you can see that data by calling 

```{r}
canes
# How do you see the cars2 data frame?
```

have a look at the data structures and data types

###### http://r4ds.had.co.nz/tibbles.html

```{r}
class(canes)
```

###### http://r4ds.had.co.nz/vectors.html

```{r}
glimpse(canes)
```

## Your TURN

Create a new R Notebook and add some code to load a library, import some CSV data, and view the imported data frame.

### Step One

Run all code

> Code > Run Region > Run All

Preview Document

1. Click Preview Button or press *Ctrl+Shift+K* 
2. IMPORTANT:  click the _open in browser_ button at the top of that preview page
3. Now scroll down to the bottom of that document and follow the DIRECTIONS section.


## DIRECTIONS

1. Create an R Notebook  (A reproducible, literate code script)

    - From the menubar:  `File > New File > R Notebook`      
    - Remember this should be done WITHIN an R Project to ensure reproducibility.
    - Inside the newly opened R Notebook, see/read the reminder help information found in the first twenty lines.
    - Execute the code chunk consisting of the function `plot()` on the object `cars`
 
2. Save the file as:  hello_world.Rmd

    - PREVIEW the document:  click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file.
    - You can delete lines 5-19 and modify lines 2 & 3, but you might want to keep that useful information for the moment 
    
        - See Also, [basic YAML header](https://bookdown.org/yihui/rmarkdown/html-document.html)

3. Add a code chunk  AT THE TOP of your `hello_world.Rmd` Notebook.  Load the tidyverse library package.
4. Display the on-board `starwars` data frame.  It's available after you load the tidyverse.
5. View the `starwars` tibble inside of a code chunk.
5. Import the `cars2` CSV file and asign it to the object name, `cars2`
6. View the `cars2` data frame, or Tibble as it's know in Tidyverse language.
7. Add a code chunk and run some basic visualizations
8. Paste at least one of the visualizations functions 

```
starwars %>% ggplot(aes(height)) + geom_histogram()
starwars %>% ggplot(aes(x = height, y = mass)) + geom_point()
ggplot(data = starwars %>% filter(mass < 500), aes(x = height, y = mass)) + geom_point()
starwars %>% ggplot(aes(hair_color)) + geom_bar()
starwars %>% ggplot(aes(fct_infreq(hair_color))) + geom_bar()
starwars %>% ggplot(aes(fct_infreq(hair_color))) + geom_bar() + ggtitle("Hair Color Frequency of Star Wars Characters")
```


## Preview your report

9. Click the preview button or `Ctrl+Shift+K`


## Reminder

All the code can be found in the intro2r-code repository on Github previously downloaded and unzipped

- https://github.com/libjohn/intro2r-code/archive/master.zip
- Unzip the file
- Open the project by double clicking the file: `intro2r-code.Rproj`